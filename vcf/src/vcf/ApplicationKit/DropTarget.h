#ifndef _VCF_DROPTARGET_H__
#define _VCF_DROPTARGET_H__
//DropTarget.h

/*
Copyright 2000-2004 The VCF Project.
Please see License.txt in the top level directory
where you installed the VCF.
*/


#if _MSC_VER > 1000
#   pragma once
#endif


/* Generated by Together */






namespace VCF{

class Control;

class DropTargetPeer;

/**
The DropTarget class represents a way to control and be notified when a
something is "dropped" ( or just "dragged over" ) as a result of 
a drag-drop operation.
In this way, for example, the mouse cursor can be modified according to
the control is over.

A drop target works by being registered with a control. This registration is
accomplished by calling the addTargetControl() on the drop target and passing
in a control instance. For example:
\code
TextControl* textControl = ...//get the control from somewhere
Panel* somePanel = ...//get the panel from somewhere

DropTarget dropTarget;
dropTarget.addTargetControl( textControl );
dropTarget.addTargetControl( somePanel );

\endcode

@delegates
	@del DropTarget::DropTargetDraggingOver
	@del DropTarget::DropTargetDropped
	@del DropTarget::DropTargetLeft
	@del DropTarget::DropTargetEntered
*/
class APPLICATIONKIT_API DropTarget : public Component {
public:

	enum {
		DRAGGING_OVER =  CUSTOM_EVENT_TYPES + 303,
		DRAG_DROPPED,
		DRAG_LEFT,
		DRAG_ENTERED
	};

    DropTarget( Control * control );

	DropTarget();

	DropTarget( Component* owner );

	DropTarget( const String& name, Component* owner );

	DropTarget( const String& name );


	virtual ~DropTarget();

	/**
	@delegate DropTargetDraggingOver is fired by the underlying windowing system
	when a dataobject is being dragged over a registered drop target.
	@event DropTargetEvent
	@eventtype DropTarget::DRAGGING_OVER
	*/
	DELEGATE(DropTargetDraggingOver)

	/**
	@delegate DropTargetDropped this is fired by the windowing system when something
	is "dropped" on a control registered with the drop target
	@event DropTargetEvent
	@eventtype
	*/
	DELEGATE(DropTargetDropped)

	/**
	@delegate DropTargetLeft is fired by the underlying windowing system
	when the "something" being dragged has left the control registered with this
	drop target.
	@event DropTargetEvent
	@eventtype DropTarget::DRAG_LEFT
	*/
	DELEGATE(DropTargetLeft)

	/**
	@delegate DropTargetEntered this is fired by the underlying windowing system
	when something that is being dragged first enters the control registered with
	this drop target.
	@event DropTargetEvent
	@eventtype DropTarget::DRAG_ENTERED
	*/
	DELEGATE(DropTargetEntered)

	virtual void handleEvent( Event* event );

	DropTargetPeer* getDropTargetPeer();

	/**
	gets the first control in the target collection.
	Typically a DropTarget will just have a single control
	that it's associated with (though it may certainly have
	more than one).
	*/
	Control* getTarget();

	/**
	Returns all the control targets for this drop
	target.
	*/
	Enumerator<Control*>* getTargets();

	/**
	Adds a new target control to the drop target's collection
	and registers it.
	*/
	void addTargetControl( Control* control );

	void removeTargetControl( Control* control );
protected:
	DropTargetPeer* dropTargetPeer_;
	std::vector<Control*> targets_;
	EnumeratorContainer<std::vector<Control*>,Control*> targetContainer_;
};

};


#endif // _VCF_DROPTARGET_H__

/**
$Id$
*/
